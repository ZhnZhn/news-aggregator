{"version":3,"sources":["../../../src/components/zhn-atoms/ProgressLine.jsx"],"names":["TRANSITION","WIDTH","OPACITY","ProgressLine","wasCompleted","idCompleted","wasOpacied","idOpacied","state","clearTimeout","setTimeout","forceUpdate","props","color","height","_style","backgroundColor","width","opacity","transition","completed","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AACA;;AAEA,IAAMA,aAAa;AACjBC,SAAQ,sBADS;AAEjBC,WAAU;AAFO,CAAnB;;IAKMC,Y;;;AAYJ,0BAAa;AAAA;;AAAA;;AAEX,UAAKC,YAAL,GAAoB,KAApB;AACA,UAAKC,WAAL,GAAmB,IAAnB;AACA,UAAKC,UAAL,GAAkB,KAAlB;AACA,UAAKC,SAAL,GAAiB,IAAjB;AACA,UAAKC,KAAL,GAAa,EAAb;AANW;AAOZ;AAlBD;;;;;;;;;;2CAoBsB;AACpB,UAAI,KAAKH,WAAT,EAAqB;AACnBI,qBAAa,KAAKJ,WAAlB;AACD;AACD,UAAI,KAAKE,SAAT,EAAmB;AACjBE,qBAAa,KAAKF,SAAlB;AACD;AACF;;;yCAEmB;AAAA;;AAClB,UAAI,KAAKH,YAAT,EAAsB;AACpB,aAAKC,WAAL,GAAmBK,WAAW,YAAI;AAChC,iBAAKL,WAAL,GAAmB,IAAnB;AACA,iBAAKM,WAAL;AACD,SAHkB,EAGhB,GAHgB,CAAnB;AAID,OALD,MAKO,IAAI,KAAKL,UAAT,EAAoB;AACzB,aAAKC,SAAL,GAAiBG,WAAW,YAAI;AAC9B,iBAAKH,SAAL,GAAiB,IAAjB;AACA,iBAAKI,WAAL;AACD,SAHgB,EAGd,GAHc,CAAjB;AAID;AACF;;;6BAEO;AAAA,mBACoB,KAAKC,KADzB;AAAA,UACEC,KADF,UACEA,KADF;AAAA,UACSC,MADT,UACSA,MADT;;AAEN,UAAIC,eAAJ;;AAEA,UAAI,KAAKT,UAAT,EAAqB;AACnBS,iBAAS;AACLC,2BAAiBH,KADZ;AAELI,iBAAO,CAFF;AAGLC,mBAAU,CAHL;AAILJ,kBAAQA;AAJH,SAAT;AAMA,aAAKR,UAAL,GAAkB,KAAlB;AACD,OARD,MAQO,IAAI,KAAKF,YAAT,EAAuB;AAC5BW,iBAAS;AACLC,2BAAiBH,KADZ;AAELI,iBAAO,MAFF;AAGLC,mBAAU,CAHL;AAILC,sBAAYnB,WAAWE,OAJlB;AAKLY,kBAAQA;AALH,SAAT;AAOA,aAAKV,YAAL,GAAoB,KAApB;AACA,aAAKE,UAAL,GAAkB,IAAlB;AACD,OAVM,MAUA;AAAA,YACCc,SADD,GACc,KAAKR,KADnB,CACCQ,SADD;;AAEJ,YAAIA,YAAY,CAAhB,EAAmB;AACjBA,sBAAY,CAAZ;AACD,SAFD,MAEO,IAAIA,aAAa,GAAjB,EAAsB;AAC3BA,sBAAY,GAAZ;AACA,eAAKhB,YAAL,GAAoB,IAApB;AACD;;AAEDW,iBAAS;AACPC,2BAAiBH,KADV;AAEPK,mBAAS,CAFF;AAGPD,iBAAOG,YAAY,GAHZ;AAIPD,sBAAYnB,WAAWC,KAJhB;AAKPa,kBAAQA;AALD,SAAT;AAOF;;AAED,aACE,uCAAK,WAAU,eAAf,EAA+B,OAAOC,MAAtC,GADF;AAID;;;4BAjFMM,Y,GAAe;AACpBR,SAAQ,SADY;AAEpBC,UAAS;AAFW,C;kBAoFTX,Y","file":"ProgressLine.js","sourcesContent":["import React, { Component } from 'react'\r\n//import PropTypes from 'prop-types'\r\n\r\nconst TRANSITION = {\r\n  WIDTH : 'width 500ms ease-out',\r\n  OPACITY : 'opacity 400ms linear'\r\n}\r\n\r\nclass ProgressLine extends Component {\r\n  /*\r\n  static propTypes = {\r\n    color: PropTypes.string,\r\n    height: PropTypes.number\r\n  }\r\n  */\r\n  static defaultProps = {\r\n    color : '#2F7ED8',\r\n    height : 3\r\n  }\r\n\r\n  constructor(){\r\n    super()\r\n    this.wasCompleted = false;\r\n    this.idCompleted = null;\r\n    this.wasOpacied = false;\r\n    this.idOpacied = null;\r\n    this.state = {}\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    if (this.idCompleted){\r\n      clearTimeout(this.idCompleted)\r\n    }\r\n    if (this.idOpacied){\r\n      clearTimeout(this.idOpacied)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    if (this.wasCompleted){\r\n      this.idCompleted = setTimeout(()=>{\r\n        this.idCompleted = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    } else if (this.wasOpacied){\r\n      this.idOpacied = setTimeout(()=>{\r\n        this.idOpacied = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { color, height } = this.props;\r\n    let _style;\r\n\r\n    if (this.wasOpacied) {\r\n      _style = {\r\n          backgroundColor: color,\r\n          width: 0,\r\n          opacity : 1,\r\n          height: height\r\n      };\r\n      this.wasOpacied = false;\r\n    } else if (this.wasCompleted) {\r\n      _style = {\r\n          backgroundColor: color,\r\n          width: '100%',\r\n          opacity : 0,\r\n          transition: TRANSITION.OPACITY,\r\n          height: height\r\n      };\r\n      this.wasCompleted = false;\r\n      this.wasOpacied = true;\r\n    } else {\r\n       let {completed} = this.props;\r\n       if (completed < 0) {\r\n         completed = 0;\r\n       } else if (completed >= 100) {\r\n         completed = 100;\r\n         this.wasCompleted = true\r\n       }\r\n\r\n       _style = {\r\n         backgroundColor: color,\r\n         opacity: 1,\r\n         width: completed + '%',\r\n         transition: TRANSITION.WIDTH,\r\n         height: height\r\n       };\r\n    }\r\n\r\n    return (\r\n      <div className=\"progress-line\" style={_style}>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProgressLine\r\n"]}