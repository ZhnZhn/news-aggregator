{"version":3,"sources":["../../../src/components/dialogs/StackSearchDialog.jsx"],"names":["DATE_ERR_MSG","INITIAL_FROM_DATE","DateUtil","getFromDate","INITIAL_TO_DATE","getToDate","_onTestDate","isValidDate","SORT_BY_OPTIONS","caption","value","DF_SORT_BY","StackSearchDialog","Decors","withDecors","props","_selectSortBy","option","sortBy","_handleLoad","type","source","itemConf","onLoad","_tagged","inputTagged","getValue","_inTitle","inputInTitle","fromDate","toDate","_fromDate","toUTCSecond","_toDate","loadId","requestType","tagged","inTitle","_handleClose","_refDialogComp","comp","dialogComp","_refInputTagged","_refInputInTitle","_refFromDate","_refToDate","_initWithDecors","render","isShow","theme","onShow","TS","createStyle","styleConfig","_commandButtons","_createCommandButtons","BT","R_DIALOG","BROWSER_CAPTION","_handleKeyDownWith","INPUT_ROOT","SELECT","INPUT_DATE","POWERED_BY","Component"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\n\r\nimport DateUtil from '../../utils/dt'\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from './Dialog.Style'\r\nimport A from '../Comp'\r\nimport Decors from './decorators/Decors'\r\n\r\nconst DATE_ERR_MSG = \"YYYY-MM-DD\";\r\n\r\nconst INITIAL_FROM_DATE = DateUtil.getFromDate(1)\r\n, INITIAL_TO_DATE = DateUtil.getToDate()\r\n, _onTestDate = DateUtil.isValidDate\r\n, SORT_BY_OPTIONS = [\r\n  { caption: \"Activity, Recent Day\", value: \"activity\" },\r\n  { caption: \"Creation Date\", value: \"creation\"},\r\n  { caption: \"Score\", value: \"votes\" },\r\n  { caption: \"Relevance\", value: \"relevance\" }\r\n]\r\n, DF_SORT_BY = SORT_BY_OPTIONS[2];\r\n\r\n@Decors.withDecors\r\nclass StackSearchDialog extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.sortBy = DF_SORT_BY.value\r\n    this._initWithDecors(this)\r\n  }\r\n\r\n  _selectSortBy = (option) => {\r\n    this.sortBy = option\r\n       ? option.value\r\n       : void 0\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    const { type, source, itemConf, onLoad } = this.props\r\n    , _tagged = this.inputTagged.getValue()\r\n    , _inTitle = this.inputInTitle.getValue()\r\n    , fromDate = this.fromDate.getValue()\r\n    , toDate = this.toDate.getValue()\r\n    , _fromDate = DateUtil.toUTCSecond(fromDate)\r\n    , _toDate = DateUtil.toUTCSecond(toDate);\r\n\r\n    onLoad({\r\n      type,\r\n      source,\r\n      itemConf,\r\n      loadId: 'SO',\r\n      requestType: 'SEARCH',\r\n      tagged: _tagged,\r\n      inTitle: _inTitle,\r\n      sortBy: this.sortBy,\r\n      fromDate: _fromDate,\r\n      toDate: _toDate\r\n    })\r\n    this._handleClose()\r\n  }\r\n\r\n  _refDialogComp = comp => this.dialogComp = comp\r\n  _refInputTagged = comp => this.inputTagged = comp\r\n  _refInputInTitle = comp => this.inputInTitle = comp\r\n  _refFromDate = comp => this.fromDate = comp\r\n  _refToDate = comp => this.toDate = comp\r\n\r\n  render(){\r\n    const { isShow, theme, onShow } = this.props\r\n         , TS = theme.createStyle(styleConfig)\r\n         , _commandButtons = this._createCommandButtons(TS.BT);\r\n\r\n    return (\r\n      <A.DraggableDialog\r\n           ref={this._refDialogComp}\r\n           rootStyle={TS.R_DIALOG}\r\n           browserCaptionStyle={TS.BROWSER_CAPTION}\r\n           styleButton={TS.BT}\r\n           caption=\"Search Questions\"\r\n           isShow={isShow}\r\n           commandButtons={_commandButtons}\r\n           onKeyDown={this._handleKeyDownWith}\r\n           onShowChart={onShow}\r\n           onClose={this._handleClose}\r\n       >\r\n         <A.TextField\r\n           style={TS.INPUT_ROOT}\r\n           ref={this._refInputTagged}\r\n           caption=\"Tagged (Default: CSS)\"\r\n           initValue=\"CSS\"\r\n         />\r\n         <A.TextField\r\n           style={TS.INPUT_ROOT}\r\n           ref={this._refInputInTitle}\r\n           caption=\"In Title (Default: flexbox)\"\r\n           initValue=\"flexbox\"\r\n         />\r\n         <A.InputSelect\r\n           caption=\"SortBy\"\r\n           initItem={DF_SORT_BY}\r\n           options={SORT_BY_OPTIONS}\r\n           styleConfig={TS.SELECT}\r\n           onSelect={this._selectSortBy}\r\n         />\r\n         <div>\r\n            <A.TextField\r\n              ref={this._refFromDate}\r\n              caption=\"From Date\"\r\n              hasClear={false}\r\n              style={TS.INPUT_DATE}\r\n              initValue={INITIAL_FROM_DATE}\r\n              errorMsg={DATE_ERR_MSG}\r\n              onTest={_onTestDate}\r\n            />\r\n            <A.TextField\r\n              ref={this._refToDate}\r\n              caption=\"To Date\"\r\n              hasClear={false}\r\n              style={TS.INPUT_DATE}\r\n              initValue={INITIAL_TO_DATE}\r\n              errorMsg={DATE_ERR_MSG}\r\n              onTest={_onTestDate}\r\n            />\r\n        </div>\r\n\r\n        <A.Link.PoweredBy rootStyle={TS.POWERED_BY}>\r\n          <A.Link.StackOverflow />\r\n        </A.Link.PoweredBy>\r\n      </A.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTheme(StackSearchDialog)\r\n"],"file":"StackSearchDialog.js"}