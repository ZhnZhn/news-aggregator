{"version":3,"sources":["../../../src/components/header/SettingsDialog.jsx"],"names":["S","MODAL","position","width","height","margin","DIV_BT","marginTop","marginBottom","TABS","marginLeft","textAlign","TAB_SELECTED","color","CARD_ROOT","CARD_BUTTONS","right","bottom","cursor","SELECT_WIDTH","INPUT_WIDTH","MIN_FS","MAX_FS","_isNumber","n","_inRange","min","max","v","SettingsDialog","_handleKeyDown","event","keyCode","props","onClose","_selectTheme","item","theme","getThemeName","value","setThemeName","Actions","changeTheme","forceUpdate","_selectFontSize","document","documentElement","style","fontSize","shouldComponentUpdate","nextProps","nextState","isShow","render","data","TS","createStyle","styleConfig","_TS","JSON","parse","stringify","Object","assign","SELECT","ROOT","R_DIALOG","BROWSER_CAPTION","BT","_refInput","INPUT_ROOT","Component"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\n//import PropTypes from 'prop-types'\r\n\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from '../dialogs/Dialog.Style'\r\n\r\nimport Actions from '../../flux/actions/ComponentActions'\r\n\r\nimport A from '../Comp'\r\nimport CardApiKeys from './CardApiKeys'\r\nimport CardUiTheme from './CardUiTheme'\r\n\r\nconst S = {\r\n  MODAL: {\r\n    position: 'static',\r\n    width: 340,\r\n    height: 410,\r\n    margin: '70px auto 0px'\r\n  },\r\n  DIV_BT: {\r\n    marginTop: 26,\r\n    marginBottom: 4\r\n  },\r\n\r\n  TABS: {\r\n    marginLeft: 24,\r\n    textAlign: 'left'\r\n  },\r\n  TAB_SELECTED: {\r\n    color: 'black'\r\n  },\r\n  CARD_ROOT: {\r\n    position: 'relative',\r\n    height: 315\r\n  },\r\n  CARD_BUTTONS: {\r\n    position: 'absolute',\r\n    right: 4,\r\n    bottom: 0,\r\n    cursor: 'default'\r\n  },\r\n  SELECT_WIDTH: {\r\n    width: 300\r\n  },\r\n  INPUT_WIDTH: {\r\n    width: 315,\r\n    marginLeft: 8\r\n  }\r\n};\r\n\r\nconst MIN_FS = 15\r\nconst MAX_FS = 18\r\n\r\nconst _isNumber = n => typeof n === 'number'\r\n && (n-n===0);\r\nconst _inRange = (min, max, v) => _isNumber(v)\r\n && v>=min && v<=max;\r\n\r\nclass SettingsDialog extends Component {\r\n  /*\r\n  static propTypes = {\r\n    isShow: PropTypes.bool,\r\n    data: PropTypes.shape({\r\n      setNewsKey: PropTypes.func,\r\n      setWebhoseKey: PropTypes.func,\r\n    }),\r\n    onClose: PropTypes.func\r\n  }\r\n  */\r\n\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (nextProps !== this.props\r\n      && nextProps.isShow === this.props.isShow\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleKeyDown = (event) => {\r\n    if (event.keyCode === 13 || event.keyCode === 27) {\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  _selectTheme = (item) => {\r\n    const { theme } = this.props;\r\n    if (\r\n        item &&\r\n        theme.getThemeName() !== item.value\r\n    ) {\r\n      theme.setThemeName(item.value)\r\n      Actions.changeTheme(item.value)\r\n      this.forceUpdate()\r\n    }\r\n  }\r\n\r\n  _selectFontSize = (item) => {\r\n    const { value } = item || {}\r\n    if ( _inRange(MIN_FS, MAX_FS, value)) {\r\n      document.documentElement.style.fontSize = `${value}px`\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { isShow, theme, data, onClose } = this.props\r\n    , TS = theme.createStyle(styleConfig)\r\n    , _TS = JSON.parse(JSON.stringify(TS));\r\n    Object.assign(_TS.SELECT.ROOT, S.SELECT_WIDTH)\r\n    return (\r\n        <A.ModalDialog\r\n           style={{ ...S.MODAL, ...TS.R_DIALOG }}\r\n           divBtStyle={S.DIV_BT}\r\n           styleCaption={TS.BROWSER_CAPTION}\r\n           styleButton={TS.BT}\r\n           caption=\"User Settings\"\r\n           isWithButton={false}\r\n           isShow={isShow}\r\n           onKeyDown={this._handleKeyDown}\r\n           onClose={onClose}\r\n        >\r\n          <A.TabPane\r\n             width=\"100%\"\r\n             tabsStyle={S.TABS}\r\n             selectedStyle={S.TAB_SELECTED}\r\n             isShow={isShow}\r\n          >\r\n             <A.Tab title=\"API Keys\">\r\n                <CardApiKeys\r\n                  ref={this._refInput}\r\n                  style={S.CARD_ROOT}\r\n                  fieldStyle={{...TS.INPUT_ROOT, ...S.INPUT_WIDTH}}\r\n                  buttonsStyle={S.CARD_BUTTONS}\r\n                  TS={TS}\r\n                  data={data}\r\n                  onClose={onClose}\r\n                />\r\n             </A.Tab>\r\n             <A.Tab title=\"UI Theme\">\r\n                <CardUiTheme\r\n                  style={S.CARD_ROOT}\r\n                  buttonsStyle={S.CARD_BUTTONS}\r\n                  TS={_TS}\r\n                  onSetTheme={this._selectTheme}\r\n                  onSetFontSize={this._selectFontSize}\r\n                  onClose={onClose}\r\n                />\r\n             </A.Tab>\r\n           </A.TabPane>\r\n       </A.ModalDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTheme(SettingsDialog)\r\n"],"file":"SettingsDialog.js"}