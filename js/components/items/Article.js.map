{"version":3,"sources":["../../../src/components/items/Article.jsx"],"names":["CL_ITEM_HEADER","S","ROOT","position","marginBottom","lineHeight","borderBottomRightRadius","boxShadow","LEFT_LINE","top","left","width","height","backgroundColor","HEADER","paddingTop","paddingLeft","paddingBottom","borderTopRightRadius","HEADER_OPEN","borderLeft","CAPTION","display","paddingRight","color","fontSize","fontWeight","cursor","CAPTION_OPEN","SVG_CLOSE","right","NONE","_focusNextArticle","nodeArticle","nextElementSibling","firstElementChild","focus","Article","withDnD","props","_handleToggle","setState","prevState","isShow","_handleClose","onCloseItem","item","_articleNode","isClosed","_handleHide","headerComp","_refItem","node","_refItemHeader","comp","_itemHandlers","_crDnDHandlers","state","render","theme","TS","createStyle","styleConfig","title","author","publishedDate","publishedAt","url","related","description","_headerStyle","_captionStyle","_publishedAt","dt","toTimeDate","_rootStyle","DESCR","Component","defaultProps","onRemoveUnder","onRemoveItem"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\n\r\nimport dt from '../../utils/dt'\r\n\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from './Article.Style'\r\n\r\nimport ItemHeader from './ItemHeader'\r\nimport ArticleDescr from './ArticleDescr'\r\nimport withDnD from './decorators/withDnD'\r\n\r\n\r\nconst CL_ITEM_HEADER = \"article-header\";\r\n\r\nconst S = {\r\n  ROOT: {\r\n    position: 'relative',\r\n    marginBottom: 5,\r\n    lineHeight: 1.5,\r\n    borderBottomRightRadius: 2,\r\n    boxShadow: '1px 4px 6px 1px rgba(0,0,0,0.6)',\r\n  },\r\n  LEFT_LINE: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    width: 3,\r\n    height: 8,\r\n    backgroundColor: '#3f51b5'\r\n  },\r\n  HEADER: {\r\n    width: '100%',\r\n    backgroundColor: '#404040',\r\n    paddingTop: 8,\r\n    paddingLeft: 16,\r\n    paddingBottom: 8,\r\n    lineHeight: 1.5,\r\n    borderTopRightRadius: 2,\r\n    borderBottomRightRadius: 2\r\n  },\r\n  HEADER_OPEN: {\r\n    borderLeft: '6px solid #607d8b'\r\n  },\r\n  CAPTION: {\r\n    display : 'inline-block',\r\n    paddingRight: 32,\r\n    color: 'black',\r\n    fontSize: '1.125rem',\r\n    fontWeight : 'bold',\r\n    cursor: 'pointer'\r\n  },\r\n  CAPTION_OPEN: {\r\n    color: '#607d8b',\r\n  },\r\n  SVG_CLOSE: {\r\n    float: 'none',\r\n    position: 'absolute',\r\n    top: 8,\r\n    right: 0\r\n  },\r\n  NONE: {\r\n    display: 'none'\r\n  }\r\n}\r\n\r\n\r\nconst _focusNextArticle = (nodeArticle) => {\r\n  const { nextElementSibling } = nodeArticle || {}\r\n  , { firstElementChild } = nextElementSibling || {};\r\n  if (firstElementChild) {\r\n    firstElementChild.focus()\r\n  }\r\n};\r\n\r\n@withDnD\r\nclass Article extends Component {\r\n\r\n  static defaultProps = {\r\n    onRemoveUnder: () => {},\r\n    onRemoveItem: () => {}\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this._itemHandlers = this._crDnDHandlers()\r\n\r\n    this.state = {\r\n      isClosed: false,\r\n      isShow: false\r\n    }\r\n  }\r\n\r\n  _handleToggle = () => {\r\n    this.setState(prevState => ({\r\n      isShow: !prevState.isShow\r\n    }))\r\n  }\r\n\r\n  _handleClose = () => {\r\n    const { onCloseItem, item } = this.props\r\n    _focusNextArticle(this._articleNode)\r\n    onCloseItem(item)\r\n    this.setState({ isClosed: true })\r\n  }\r\n\r\n  _handleHide = () => {\r\n    this.headerComp.focus()\r\n    this.setState({ isShow: false })\r\n  }\r\n\r\n  _refItem = node => this._articleNode = node\r\n  _refItemHeader = comp => this.headerComp = comp\r\n\r\n  render() {\r\n    const { item, theme } = this.props\r\n        , TS = theme.createStyle(styleConfig)\r\n        , { title, author,\r\n            publishedDate, publishedAt,\r\n            url, related\r\n            //, urlToImage\r\n          } = item\r\n        , description = item.description || 'More...'\r\n        , { isClosed, isShow } = this.state\r\n        , _headerStyle = isShow\r\n             ? { ...S.HEADER, ...S.HEADER_OPEN }\r\n             : S.HEADER\r\n        , _captionStyle = isShow\r\n             ? {...S.CAPTION, ...S.CAPTION_OPEN}\r\n             : S.CAPTION\r\n        , _publishedAt = publishedDate\r\n             || dt.toTimeDate(publishedAt)\r\n        , _rootStyle = isClosed\r\n             ? S.NONE\r\n             : void 0;\r\n    return (\r\n        <div\r\n          ref={this._refItem}\r\n          style={{...S.ROOT, ..._rootStyle}}\r\n          {...this._itemHandlers}\r\n        >\r\n          <ItemHeader\r\n             ref={this._refItemHeader}\r\n             className={CL_ITEM_HEADER}\r\n             style={{ ..._headerStyle, ...TS.HEADER }}\r\n             captionStyle={_captionStyle}\r\n             btCloseStyle={S.SVG_CLOSE}\r\n             title={title}\r\n             url={url}\r\n             isShow={isShow}\r\n             onClick={this._handleToggle}\r\n             onClose={this._handleClose}\r\n             onHide={this._handleHide}\r\n          />\r\n          <ArticleDescr\r\n             style={TS.DESCR}\r\n             isShow={isShow}\r\n             url={url}\r\n             description={description}\r\n             related={related}\r\n             publishedAt={_publishedAt}\r\n             author={author}\r\n             onHide={this._handleHide}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    focus = () => {\r\n      if (this.headerComp) {\r\n        this.headerComp.focus()\r\n      }\r\n    }\r\n}\r\n\r\nexport default withTheme(Article)\r\n"],"file":"Article.js"}