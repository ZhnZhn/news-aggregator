{"version":3,"sources":["../../../src/components/hooks/useClassAnimation.js"],"names":["useClassAnimation","isShow","CL","S","initialWasClosed","timeout","_wasUpdated","_forceUpdate","_refWasClosed","_refPrevIsShow","current","setTimeout","className","style","INIT","SHOWING","HIDING"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,OAIpB;AAAA,MAHJC,MAGI,QAHJA,MAGI;AAAA,MAHIC,EAGJ,QAHIA,EAGJ;AAAA,MAHQC,CAGR,QAHQA,CAGR;AAAA,mCAFJC,gBAEI;AAAA,MAFJA,gBAEI,sCAFa,IAEb;AAAA,0BADJC,OACI;AAAA,MADJA,OACI,6BADI,GACJ;;AAAA,wBACgC,kCADhC;AAAA,MACGC,WADH;AAAA,MACgBC,YADhB;AAAA,MAEFC,aAFE,GAEc,mBAAOJ,gBAAP,CAFd;AAAA,MAGFK,cAHE,GAGe,mBAAOR,MAAP,CAHf;AAIJ;;;AACA,wBAAW,YAAM;AACf,QAAIQ,cAAc,CAACC,OAAf,IAA0B,CAACT,MAA/B,EAAuC;AACrCU,MAAAA,UAAU,CACR,YAAM;AACJH,QAAAA,aAAa,CAACE,OAAd,GAAwB,IAAxB;;AACAH,QAAAA,YAAY;AACb,OAJO,EAKRF,OALQ,CAAV;AAOD;;AACDI,IAAAA,cAAc,CAACC,OAAf,GAAyBT,MAAzB;AACAO,IAAAA,aAAa,CAACE,OAAd,GAAwB,KAAxB;AACD,GAZD,EAYG,CAACT,MAAD,EAASK,WAAT,CAZH;AAaA;;AACA,MAAIM,SAAJ,EAAeC,KAAf;;AACA,MAAIL,aAAa,CAACE,OAAlB,EAA2B;AACzBE,IAAAA,SAAS,GAAGV,EAAE,CAACY,IAAf;AACAD,IAAAA,KAAK,GAAGV,CAAC,CAACW,IAAV;AACD,GAHD,MAGO;AACLF,IAAAA,SAAS,GAAGX,MAAM,GAAGC,EAAE,CAACa,OAAN,GAAgBb,EAAE,CAACc,MAArC;AACAH,IAAAA,KAAK,GAAGZ,MAAM,GAAGE,CAAC,CAACY,OAAL,GAAeZ,CAAC,CAACa,MAA/B;AACD;;AACD,SAAO;AAAEJ,IAAAA,SAAS,EAATA,SAAF;AAAaC,IAAAA,KAAK,EAALA;AAAb,GAAP;AACD,CAhCD;;eAkCeb,iB","sourcesContent":["import { useRef, useEffect } from 'react'\r\n\r\nimport useForceUpdate from './useForceUpdate'\r\n\r\nconst useClassAnimation = ({\r\n  isShow, CL, S,\r\n  initialWasClosed=true,\r\n  timeout=450\r\n}) => {\r\n  const [_wasUpdated, _forceUpdate] = useForceUpdate()\r\n  , _refWasClosed = useRef(initialWasClosed)\r\n  , _refPrevIsShow = useRef(isShow);\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  useEffect( () => {\r\n    if (_refPrevIsShow.current && !isShow) {\r\n      setTimeout(\r\n        () => {\r\n          _refWasClosed.current = true;\r\n          _forceUpdate()\r\n        },\r\n        timeout\r\n      )\r\n    }\r\n    _refPrevIsShow.current = isShow\r\n    _refWasClosed.current = false\r\n  }, [isShow, _wasUpdated]);\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n  let className, style;\r\n  if (_refWasClosed.current) {\r\n    className = CL.INIT;\r\n    style = S.INIT;\r\n  } else {\r\n    className = isShow ? CL.SHOWING : CL.HIDING;\r\n    style = isShow ? S.SHOWING : S.HIDING;\r\n  }\r\n  return { className, style };\r\n}\r\n\r\nexport default useClassAnimation\r\n"],"file":"useClassAnimation.js"}